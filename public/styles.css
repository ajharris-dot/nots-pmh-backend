:root{
  --bg:#f6f6f7;
  --panel:#ffffff;
  --text:#1f2937;
  --muted:#6b7280;
  --line:#e5e7eb;
  --accent:#7a1f2b;     /* maroon */
  --accent-600:#631823; /* darker maroon */
  --accent-100:#f4e9eb; /* pale maroon */
  --ok:#2e7d32;
  --danger:#b91c1c;
}

*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; background:var(--bg); color:var(--text); }

/* Top bar */
.topbar {
  position: sticky;
  top: 0;
  z-index: 100;
  background: #800020;
  color: #fff;
  display: grid;
  grid-template-columns: 1fr auto 1fr; /* left - center - right */
  align-items: center;
  padding: 10px 20px;
}

.topbar h1 {
  margin: 0;
  font-size: 20px;
  justify-self: start;
}

.topbar-logo {
  justify-self: center;
}

.topbar-logo img {
  height: 40px; /* adjust size as needed */
}

.topbar-actions {
  display: flex;
  align-items: center;
  gap: 10px;
  justify-self: end;
}

/* Buttons */
button{ cursor:pointer; border-radius:8px; padding:8px 12px; border:1px solid transparent; font-weight:600; }
.primary{ background:var(--accent); color:#fff; }
.primary:hover{ background:var(--accent-600); }
.secondary{ background:#fff; color:var(--text); border:1px solid var(--line); }
.secondary:hover{ background:#fafafa; }
.danger{ background:var(--danger); color:#fff; }
.danger:hover{ filter:brightness(0.95); }

/* Disabled state for auth-gated actions */
button:disabled{
  opacity:0.55;
  cursor:not-allowed;
}

/* Filters */
.filters{ display:flex; gap:6px; }
.filters .tab{
  background:#222; color:#ddd; border:1px solid #333;
}
.filters .tab.active{ background:#444; color:#fff; }

/* Main wrapper */
.content{
  max-width: none;   /* allow grid to span full window */
  margin:18px auto;
  padding:0 16px;
}

/* Search bar */
.toolbar{ margin-bottom:12px; }
.toolbar input{
  width:100%; border:1px solid var(--line); border-radius:8px; padding:10px 12px; outline:none;
}

/* Card grid */
.card-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); /* auto-fit can fill gaps better */
  gap:24px;  /* increased spacing between cards */
  padding: 10px 0; /* optional: vertical breathing room */
}

/* Job card */
.job-card{
  background:var(--panel);
  border:1px solid var(--line);
  border-radius:12px;
  box-shadow:0 4px 12px rgba(0,0,0,0.12); /* deeper shadow */
  overflow:hidden;
  transition: box-shadow 0.2s ease, transform 0.2s ease;
}

.job-card:hover {
  box-shadow:0 6px 18px rgba(0,0,0,0.16); /* stronger hover shadow */
  transform: translateY(-2px);             /* small hover lift */
}

.photo-container{ position:relative; background:var(--accent-100); }
.job-card img{
  display:block; width:100%; height:180px; object-fit:cover;
}

.card-body{ padding:12px 12px 6px 12px; }
.card-title{
  display:flex; align-items:baseline; gap:8px; margin:0 0 6px 0;
}
.card-title h3{ margin:0; font-size:18px; font-weight:700; }
.badge{
  font-size:12px; padding:2px 6px; border-radius:999px; border:1px solid var(--line); color:var(--muted); background:#fff;
}
.badge-open{ background:#f8fafc; border-color:#e2e8f0; color:#0f766e; }
.badge-filled{ background:#fdf2f2; border-color:#fee2e2; color:#991b1b; }

.card-meta{ margin:6px 0 10px 0; color:var(--muted); font-size:14px; display:grid; row-gap:3px; }
.meta-row strong{ color:var(--text); font-weight:600; margin-right:6px; }

.card-actions{
  display:flex; gap:8px; padding:10px 12px 12px 12px; border-top:1px solid var(--line);
  flex-wrap:wrap;
}

/* Optional: the "Log in to manage" placeholder button style (already uses .secondary) */
.card-actions .login-gate-btn{
  font-weight:600;
}

/* Upload button (only renders on Filled cards in JS) */
.upload-btn{
  background:var(--accent); color:#fff; border:none; padding:8px 10px; border-radius:8px;
}
.upload-btn:hover{ background:var(--accent-600); }

/* Modal */
.modal.hidden{ display:none; }
.modal{
  position:fixed; inset:0; background:rgba(0,0,0,0.45);
  display:flex; align-items:center; justify-content:center; z-index:1000;
}
.modal-card{
  width:min(520px,95vw); background:#fff; border:1px solid var(--line); border-radius:14px; padding:16px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
}
.modal-card h2{ margin:0 0 12px 0; }

/* Generalized modal form styles so ALL modals (job, login, assign) match */
.modal-card label{ display:block; font-weight:600; margin:10px 0 4px 0; }
.modal-card input{
  width:100%; border:1px solid var(--line); border-radius:8px; padding:10px 12px; outline:none;
}
.modal-actions{ display:flex; gap:10px; margin-top:14px; justify-content:flex-end; }

/* ============================
   Job Card Photo Styling
   ============================ */
.photo-container {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;   /* Change ratio if you want taller/shorter photo area */
  overflow: hidden;
  background: var(--accent-100); /* fallback color before photo loads */
  border-bottom: 1px solid var(--line);
}

.photo-container img {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;   /* Fits whole image, no cropping */
  object-position: center; /* Center the image in the box */
  display: block;
  background: #f6f6f6;   /* optional: neutral backdrop for empty space */
}

/* Slightly larger filter tabs for label + count */
.filters .tab {
  padding: 8px 14px;
  font-size: 14px;
  line-height: 1.1;
}

/* Users list rows inside admin modal (fallback if inline styles removed) */
.users-row {
  display: grid;
  grid-template-columns:2fr 1.5fr 1 fr auto;
  gap: 8px;
  align-items: center;
  padding: 8px;
  border-bottom: 1px solid var(--line);
}

/* ===== View toggle ===== */
.view-toggle {
  display: flex;
  gap: 6px;
  align-items: center;
}
.view-toggle .active {
  background: var(--accent);
  color: #fff;
  border-color: var(--accent);
}

/* ===== List view layout ===== */
.list-grid {
  display: grid;
  grid-template-columns: 1fr; /* rows stack */
  gap: 12px;
  padding: 10px 0;
}

.job-row {
  display: grid;
  grid-template-columns: 92px 1fr auto; /* thumb | info | actions */
  gap: 12px;
  align-items: center;
  background: var(--panel);
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 10px 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.job-row .thumb {
  width: 92px;
  height: 92px;
  border-radius: 10px;
  overflow: hidden;
  background: var(--accent-100);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--line);
}
.job-row .thumb img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.job-row .info {
  display: grid;
  grid-template-columns: 1fr;
  row-gap: 4px;
  min-width: 0;
}

.job-row .title-line {
  display: flex;
  gap: 10px;
  align-items: baseline;
  flex-wrap: wrap;
}
.job-row .title-line h3 {
  margin: 0;
  font-size: 16px;
}

.job-row .meta {
  color: var(--muted);
  font-size: 14px;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  gap: 6px 12px;
}

.job-row .actions {
  display: flex;
  gap: 8px;
  justify-content: flex-end;
  flex-wrap: wrap;
}

/* Make the card grid switch off when list is on */
.card-grid.list {
  display: none;
}

/* =========================
   View width + columns
   ========================= */

/* LIST VIEW: cap content to 70% of the viewport (but not wider than 1200px) */
body.list-view .content {
  display: flex;
  justify-content: center;
}
body.list-view #jobGrid {
  width: 70vw;           /* 70% of screen */
  max-width: 1200px;     /* optional hard cap so it doesnâ€™t get too wide on huge screens */
}

/* CARD VIEW: allow more than 5 across on very wide screens */
body.card-view #jobGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); /* grows to 6,7,... on big screens */
  gap: 24px;
}

/* CARD VIEW: never go below 5 across as the screen shrinks */
@media (max-width: 1600px) {
  body.card-view #jobGrid {
    grid-template-columns: repeat(5, minmax(0, 1fr)); /* lock at 5 columns */
  }
}

/* (Optional) If the page ever gets narrower than what 5 columns can comfortably fit,
   let the grid horizontally scroll instead of wrapping to fewer than 5. */
@media (max-width: 1200px) {
  body.card-view .content {
    overflow-x: auto;
  }
  body.card-view #jobGrid {
    min-width: 1100px; /* ~5 columns worth; adjust if your cards are wider/narrower */
  }
}

/* LIST ROW THUMBNAIL: keep the picture reasonable in list mode */
body.list-view .job-card.list-row .photo-container {
  width: 140px;     /* small thumbnail */
  height: 90px;     /* 16:10-ish */
  flex: 0 0 140px;
}

/* Toggle view buttons (cards/list) */
.view-toggle button {
  background-color: #e5e5e5;  /* light gray by default */
  color: #333;
  border: 1px solid #ccc;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  transition: background-color 0.2s ease, color 0.2s ease;
}

.view-toggle button:hover {
  background-color: #d4d4d4;  /* slightly darker on hover */
}

.view-toggle button.active {
  background-color: #555;     /* dark gray when clicked/active */
  color: #fff;                /* white text for contrast */
  border-color: #444;
}
