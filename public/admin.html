<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Admin Hub</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <button id="backToHubBtn" class="secondary">← Positions</button>
    </div>
    <div class="topbar-logo"><img src="/logo.png" alt="Logo"/></div>
    <div class="topbar-actions">
      <!-- optional right-side actions -->
    </div>
  </header>

  <main class="content">
    <div class="admin-sections">
      <!-- Users -->
      <section class="section-card">
        <h3>Users</h3>
        <form id="userForm" style="display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px;margin-bottom:10px;">
          <input type="hidden" id="userId"/>
          <label>Email<input id="userEmail" type="email" required/></label>
          <label>Name<input id="userName" type="text"/></label>
          <label>Role
            <select id="userRole">
              <option value="admin">admin</option>
              <option value="operations">operations</option>
              <option value="employment">employment</option>
              <option value="manager">manager</option>
              <option value="user">user</option>
            </select>
          </label>
          <label>Password<input id="userPassword" type="password" placeholder="(leave blank to keep)"/></label>
          <div style="grid-column:1 / -1;display:flex;gap:8px;justify-content:flex-end;">
            <button id="resetUserForm" type="button" class="secondary">Reset</button>
            <button type="submit" class="primary">Save User</button>
          </div>
        </form>

        <div id="usersList" class="users-list"></div>
      </section>

      <!-- inside the Permissions section, just above <div id="permissionsList"> -->
      <div class="section-toolbar" style="display:flex; gap:10px; flex-wrap:wrap; align items:center; margin-bottom:10px;">
        <input id="permSearch" type="text" placeholder="Search abilities…" 
               style="flex:1; min-width:220px; border:1px solid var(--line); border-radius:8px; padding:8px 10px;">
        <input id="newRoleName" type="text" placeholder="New role (e.g., operations)"
               style="min-width:220px; border:1px solid var(--line); border-radius:8px; padding:8px 10px;">
        <button id="addRoleBtn" class="secondary">+ Add Role</button>
        <input id="newAbilityName" type="text" placeholder="New ability (e.g., edit_job)"
               style="min-width:240px; border:1px solid var(--line); border-radius:8px; padding:8px 10px;">
        <button id="addAbilityBtn" class="secondary">+ Add Ability</button>
      </div>

<div id="permissionsList" class="permissions-grid"></div>


      <!-- Permissions -->
      <section class="section-card">
        <h3>Permissions</h3>
        <div id="permissionsList" class="permissions-grid"></div>
      </section>
    </div>
  </main>

  <script src="admin.js"></script>
</body>
</html>
