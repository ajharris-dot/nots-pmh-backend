<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Admin Hub — Roles & Permissions</title>
  <link rel="stylesheet" href="styles.css"/>
</head>
<body>
  <header class="topbar">
    <div class="topbar-left">
      <button id="backToHubBtn" class="secondary">← Positions</button>
      <button id="employmentPageBtn" class="secondary">Employment</button>
      <button id="adminHubBtn" class="primary">Admin Hub</button>
    </div>
    <h1>Admin Hub</h1>
    <div class="topbar-actions">
      <button id="logoutBtn" class="secondary">Log out</button>
    </div>
  </header>

  <main class="content">
    <div class="toolbar">
      <div class="muted">Manage roles & permissions</div>
    </div>

    <!-- Users card (unchanged list + edit/delete that you liked) -->
    <section class="section-card">
      <h3>Users</h3>
      <form id="userForm" style="display:grid; grid-template-columns:repeat(5,1fr); gap:8px; align-items:end;">
        <input type="hidden" id="userId"/>
        <label>Email
          <input id="userEmail" type="email" required/>
        </label>
        <label>Name
          <input id="userName" type="text" />
        </label>
        <label>Role
          <select id="userRole">
            <option value="admin">admin</option>
            <option value="operations">operations</option>
            <option value="employment">employment</option>
            <option value="manager">manager</option>
            <option value="user">user</option>
          </select>
        </label>
        <label>Password
          <input id="userPassword" type="password" placeholder="••••••"/>
        </label>
        <div style="display:flex; gap:8px;">
          <button class="primary" type="submit">Save</button>
          <button id="resetUserForm" class="secondary" type="button">Reset</button>
        </div>
      </form>

      <div id="usersList" style="margin-top:10px;"></div>
    </section>

    <!-- NEW: Roles & Permissions editor (no table) -->
    <section class="section-card">
      <h3>Roles & Permissions</h3>

      <div class="admin-layout">
        <aside class="roles-list" id="rolesList">
          <!-- role buttons injected here -->
        </aside>

        <section class="perm-editor">
          <div class="perm-header">
            <h4 id="permRoleTitle" class="muted">Select a role →</h4>
            <div id="permHint" class="muted" style="font-size:12px;">
              Toggle permissions. Changes save instantly.
            </div>
          </div>
          <div id="permPool" class="perm-pool">
            <!-- checkboxes injected here -->
          </div>
        </section>
      </div>
    </section>
  </main>

  <script src="admin.js"></script>
</body>
</html>
